{"ast":null,"code":"import _slicedToArray from \"/home/gog3d/CODE/JS/1-projects/2-react/react-glb-models-viewer/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"/home/gog3d/CODE/JS/1-projects/2-react/react-glb-models-viewer/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"children\", \"multisamping\", \"renderIndex\", \"disableRender\", \"disableGamma\", \"disableRenderPass\", \"depthBuffer\", \"stencilBuffer\", \"anisotropy\", \"encoding\", \"type\"];\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { WebGLRenderTarget, HalfFloatType, RGBAFormat } from 'three';\nimport { extend, useThree, useFrame } from '@react-three/fiber';\nimport { EffectComposer, RenderPass, ShaderPass, GammaCorrectionShader } from 'three-stdlib';\nimport mergeRefs from 'react-merge-refs';\nvar isWebGL2Available = function isWebGL2Available() {\n  try {\n    var canvas = document.createElement('canvas');\n    return !!(window.WebGL2RenderingContext && canvas.getContext('webgl2'));\n  } catch (e) {\n    return false;\n  }\n};\nvar Effects = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var children = _ref.children,\n    _ref$multisamping = _ref.multisamping,\n    multisamping = _ref$multisamping === void 0 ? 8 : _ref$multisamping,\n    _ref$renderIndex = _ref.renderIndex,\n    renderIndex = _ref$renderIndex === void 0 ? 1 : _ref$renderIndex,\n    disableRender = _ref.disableRender,\n    disableGamma = _ref.disableGamma,\n    disableRenderPass = _ref.disableRenderPass,\n    _ref$depthBuffer = _ref.depthBuffer,\n    depthBuffer = _ref$depthBuffer === void 0 ? true : _ref$depthBuffer,\n    _ref$stencilBuffer = _ref.stencilBuffer,\n    stencilBuffer = _ref$stencilBuffer === void 0 ? false : _ref$stencilBuffer,\n    _ref$anisotropy = _ref.anisotropy,\n    anisotropy = _ref$anisotropy === void 0 ? 1 : _ref$anisotropy,\n    encoding = _ref.encoding,\n    type = _ref.type,\n    props = _objectWithoutProperties(_ref, _excluded);\n  React.useMemo(function () {\n    return extend({\n      EffectComposer: EffectComposer,\n      RenderPass: RenderPass,\n      ShaderPass: ShaderPass\n    });\n  }, []);\n  var composer = React.useRef();\n  var _useThree = useThree(),\n    scene = _useThree.scene,\n    camera = _useThree.camera,\n    gl = _useThree.gl,\n    size = _useThree.size,\n    viewport = _useThree.viewport;\n  var _React$useState = React.useState(function () {\n      var t = new WebGLRenderTarget(size.width, size.height, {\n        type: type || HalfFloatType,\n        format: RGBAFormat,\n        encoding: encoding || gl.outputEncoding,\n        depthBuffer: depthBuffer,\n        stencilBuffer: stencilBuffer,\n        anisotropy: anisotropy\n      });\n      t.samples = multisamping;\n      return t;\n    }),\n    _React$useState2 = _slicedToArray(_React$useState, 1),\n    target = _React$useState2[0];\n  React.useEffect(function () {\n    var _composer$current, _composer$current2;\n    (_composer$current = composer.current) == null ? void 0 : _composer$current.setSize(size.width, size.height);\n    (_composer$current2 = composer.current) == null ? void 0 : _composer$current2.setPixelRatio(viewport.dpr);\n  }, [gl, size, viewport.dpr]);\n  useFrame(function () {\n    var _composer$current3;\n    if (!disableRender) (_composer$current3 = composer.current) == null ? void 0 : _composer$current3.render();\n  }, renderIndex);\n  var passes = [];\n  if (!disableRenderPass) passes.push( /*#__PURE__*/React.createElement(\"renderPass\", {\n    key: \"renderpass\",\n    attach: \"passes-\".concat(passes.length),\n    args: [scene, camera]\n  }));\n  if (!disableGamma) passes.push( /*#__PURE__*/React.createElement(\"shaderPass\", {\n    attach: \"passes-\".concat(passes.length),\n    key: \"gammapass\",\n    args: [GammaCorrectionShader]\n  }));\n  React.Children.forEach(children, function (el) {\n    el && passes.push( /*#__PURE__*/React.cloneElement(el, {\n      key: passes.length,\n      attach: \"passes-\".concat(passes.length)\n    }));\n  });\n  return /*#__PURE__*/React.createElement(\"effectComposer\", _extends({\n    ref: mergeRefs([ref, composer]),\n    args: [gl, target]\n  }, props), passes);\n});\nexport { Effects, isWebGL2Available };","map":{"version":3,"names":["_extends","React","WebGLRenderTarget","HalfFloatType","RGBAFormat","extend","useThree","useFrame","EffectComposer","RenderPass","ShaderPass","GammaCorrectionShader","mergeRefs","isWebGL2Available","canvas","document","createElement","window","WebGL2RenderingContext","getContext","e","Effects","forwardRef","_ref","ref","children","_ref$multisamping","multisamping","_ref$renderIndex","renderIndex","disableRender","disableGamma","disableRenderPass","_ref$depthBuffer","depthBuffer","_ref$stencilBuffer","stencilBuffer","_ref$anisotropy","anisotropy","encoding","type","props","_objectWithoutProperties","_excluded","useMemo","composer","useRef","_useThree","scene","camera","gl","size","viewport","_React$useState","useState","t","width","height","format","outputEncoding","samples","_React$useState2","_slicedToArray","target","useEffect","_composer$current","_composer$current2","current","setSize","setPixelRatio","dpr","_composer$current3","render","passes","push","key","attach","concat","length","args","Children","forEach","el","cloneElement"],"sources":["/home/gog3d/CODE/JS/1-projects/2-react/react-glb-models-viewer/node_modules/@react-three/drei/core/Effects.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { WebGLRenderTarget, HalfFloatType, RGBAFormat } from 'three';\nimport { extend, useThree, useFrame } from '@react-three/fiber';\nimport { EffectComposer, RenderPass, ShaderPass, GammaCorrectionShader } from 'three-stdlib';\nimport mergeRefs from 'react-merge-refs';\n\nconst isWebGL2Available = () => {\n  try {\n    var canvas = document.createElement('canvas');\n    return !!(window.WebGL2RenderingContext && canvas.getContext('webgl2'));\n  } catch (e) {\n    return false;\n  }\n};\nconst Effects = /*#__PURE__*/React.forwardRef(({\n  children,\n  multisamping = 8,\n  renderIndex = 1,\n  disableRender,\n  disableGamma,\n  disableRenderPass,\n  depthBuffer = true,\n  stencilBuffer = false,\n  anisotropy = 1,\n  encoding,\n  type,\n  ...props\n}, ref) => {\n  React.useMemo(() => extend({\n    EffectComposer,\n    RenderPass,\n    ShaderPass\n  }), []);\n  const composer = React.useRef();\n  const {\n    scene,\n    camera,\n    gl,\n    size,\n    viewport\n  } = useThree();\n  const [target] = React.useState(() => {\n    const t = new WebGLRenderTarget(size.width, size.height, {\n      type: type || HalfFloatType,\n      format: RGBAFormat,\n      encoding: encoding || gl.outputEncoding,\n      depthBuffer,\n      stencilBuffer,\n      anisotropy\n    });\n    t.samples = multisamping;\n    return t;\n  });\n  React.useEffect(() => {\n    var _composer$current, _composer$current2;\n\n    (_composer$current = composer.current) == null ? void 0 : _composer$current.setSize(size.width, size.height);\n    (_composer$current2 = composer.current) == null ? void 0 : _composer$current2.setPixelRatio(viewport.dpr);\n  }, [gl, size, viewport.dpr]);\n  useFrame(() => {\n    var _composer$current3;\n\n    if (!disableRender) (_composer$current3 = composer.current) == null ? void 0 : _composer$current3.render();\n  }, renderIndex);\n  const passes = [];\n  if (!disableRenderPass) passes.push( /*#__PURE__*/React.createElement(\"renderPass\", {\n    key: \"renderpass\",\n    attach: `passes-${passes.length}`,\n    args: [scene, camera]\n  }));\n  if (!disableGamma) passes.push( /*#__PURE__*/React.createElement(\"shaderPass\", {\n    attach: `passes-${passes.length}`,\n    key: \"gammapass\",\n    args: [GammaCorrectionShader]\n  }));\n  React.Children.forEach(children, el => {\n    el && passes.push( /*#__PURE__*/React.cloneElement(el, {\n      key: passes.length,\n      attach: `passes-${passes.length}`\n    }));\n  });\n  return /*#__PURE__*/React.createElement(\"effectComposer\", _extends({\n    ref: mergeRefs([ref, composer]),\n    args: [gl, target]\n  }, props), passes);\n});\n\nexport { Effects, isWebGL2Available };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}