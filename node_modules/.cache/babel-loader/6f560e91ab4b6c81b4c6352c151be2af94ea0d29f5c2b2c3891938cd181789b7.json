{"ast":null,"code":"import _toConsumableArray from \"/home/gog3d/CODE/JS/1-projects/2-react/react-glb-models-viewer/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectWithoutProperties from \"/home/gog3d/CODE/JS/1-projects/2-react/react-glb-models-viewer/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"opacity\", \"speed\", \"width\", \"depth\", \"segments\", \"texture\", \"color\", \"depthTest\"];\nimport * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { Billboard } from './Billboard.js';\nimport { Plane } from './shapes.js';\nimport { useTexture } from './useTexture.js';\nvar CLOUD_URL = 'https://rawcdn.githack.com/pmndrs/drei-assets/9225a9f1fbd449d9411125c2f419b843d0308c9f/cloud.png';\nfunction Cloud(_ref) {\n  var _ref$opacity = _ref.opacity,\n    opacity = _ref$opacity === void 0 ? 0.5 : _ref$opacity,\n    _ref$speed = _ref.speed,\n    speed = _ref$speed === void 0 ? 0.4 : _ref$speed,\n    _ref$width = _ref.width,\n    width = _ref$width === void 0 ? 10 : _ref$width,\n    _ref$depth = _ref.depth,\n    depth = _ref$depth === void 0 ? 1.5 : _ref$depth,\n    _ref$segments = _ref.segments,\n    segments = _ref$segments === void 0 ? 20 : _ref$segments,\n    _ref$texture = _ref.texture,\n    texture = _ref$texture === void 0 ? CLOUD_URL : _ref$texture,\n    _ref$color = _ref.color,\n    color = _ref$color === void 0 ? '#ffffff' : _ref$color,\n    _ref$depthTest = _ref.depthTest,\n    depthTest = _ref$depthTest === void 0 ? true : _ref$depthTest,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var gl = useThree(function (state) {\n    return state.gl;\n  });\n  var group = React.useRef();\n  var cloudTexture = useTexture(texture);\n  var clouds = React.useMemo(function () {\n    return _toConsumableArray(new Array(segments)).map(function (_, index) {\n      return {\n        x: width / 2 - Math.random() * width,\n        y: width / 2 - Math.random() * width,\n        scale: 0.4 + Math.sin((index + 1) / segments * Math.PI) * ((0.2 + Math.random()) * 10),\n        density: Math.max(0.2, Math.random()),\n        rotation: Math.max(0.002, 0.005 * Math.random()) * speed\n      };\n    });\n  }, [width, segments, speed]);\n  useFrame(function (state) {\n    var _group$current;\n    return (_group$current = group.current) == null ? void 0 : _group$current.children.forEach(function (cloud, index) {\n      cloud.children[0].rotation.z += clouds[index].rotation;\n      cloud.children[0].scale.setScalar(clouds[index].scale + (1 + Math.sin(state.clock.getElapsedTime() / 10)) / 2 * index / 10);\n    });\n  });\n  return /*#__PURE__*/React.createElement(\"group\", props, /*#__PURE__*/React.createElement(\"group\", {\n    position: [0, 0, segments / 2 * depth],\n    ref: group\n  }, clouds.map(function (_ref2, index) {\n    var x = _ref2.x,\n      y = _ref2.y,\n      scale = _ref2.scale,\n      density = _ref2.density;\n    return /*#__PURE__*/React.createElement(Billboard, {\n      key: index,\n      position: [x, y, -index * depth]\n    }, /*#__PURE__*/React.createElement(Plane, {\n      scale: scale,\n      rotation: [0, 0, 0]\n    }, /*#__PURE__*/React.createElement(\"meshStandardMaterial\", {\n      map: cloudTexture,\n      \"map-encoding\": gl.outputEncoding,\n      transparent: true,\n      opacity: scale / 6 * density * opacity,\n      depthTest: depthTest,\n      color: color\n    })));\n  })));\n}\nexport { Cloud };","map":{"version":3,"names":["React","useThree","useFrame","Billboard","Plane","useTexture","CLOUD_URL","Cloud","_ref","_ref$opacity","opacity","_ref$speed","speed","_ref$width","width","_ref$depth","depth","_ref$segments","segments","_ref$texture","texture","_ref$color","color","_ref$depthTest","depthTest","props","_objectWithoutProperties","_excluded","gl","state","group","useRef","cloudTexture","clouds","useMemo","_toConsumableArray","Array","map","_","index","x","Math","random","y","scale","sin","PI","density","max","rotation","_group$current","current","children","forEach","cloud","z","setScalar","clock","getElapsedTime","createElement","position","ref","_ref2","key","outputEncoding","transparent"],"sources":["/home/gog3d/CODE/JS/1-projects/2-react/react-glb-models-viewer/node_modules/@react-three/drei/core/Cloud.js"],"sourcesContent":["import * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { Billboard } from './Billboard.js';\nimport { Plane } from './shapes.js';\nimport { useTexture } from './useTexture.js';\n\nconst CLOUD_URL = 'https://rawcdn.githack.com/pmndrs/drei-assets/9225a9f1fbd449d9411125c2f419b843d0308c9f/cloud.png';\nfunction Cloud({\n  opacity = 0.5,\n  speed = 0.4,\n  width = 10,\n  depth = 1.5,\n  segments = 20,\n  texture = CLOUD_URL,\n  color = '#ffffff',\n  depthTest = true,\n  ...props\n}) {\n  const gl = useThree(state => state.gl);\n  const group = React.useRef();\n  const cloudTexture = useTexture(texture);\n  const clouds = React.useMemo(() => [...new Array(segments)].map((_, index) => ({\n    x: width / 2 - Math.random() * width,\n    y: width / 2 - Math.random() * width,\n    scale: 0.4 + Math.sin((index + 1) / segments * Math.PI) * ((0.2 + Math.random()) * 10),\n    density: Math.max(0.2, Math.random()),\n    rotation: Math.max(0.002, 0.005 * Math.random()) * speed\n  })), [width, segments, speed]);\n  useFrame(state => {\n    var _group$current;\n\n    return (_group$current = group.current) == null ? void 0 : _group$current.children.forEach((cloud, index) => {\n      cloud.children[0].rotation.z += clouds[index].rotation;\n      cloud.children[0].scale.setScalar(clouds[index].scale + (1 + Math.sin(state.clock.getElapsedTime() / 10)) / 2 * index / 10);\n    });\n  });\n  return /*#__PURE__*/React.createElement(\"group\", props, /*#__PURE__*/React.createElement(\"group\", {\n    position: [0, 0, segments / 2 * depth],\n    ref: group\n  }, clouds.map(({\n    x,\n    y,\n    scale,\n    density\n  }, index) => /*#__PURE__*/React.createElement(Billboard, {\n    key: index,\n    position: [x, y, -index * depth]\n  }, /*#__PURE__*/React.createElement(Plane, {\n    scale: scale,\n    rotation: [0, 0, 0]\n  }, /*#__PURE__*/React.createElement(\"meshStandardMaterial\", {\n    map: cloudTexture,\n    \"map-encoding\": gl.outputEncoding,\n    transparent: true,\n    opacity: scale / 6 * density * opacity,\n    depthTest: depthTest,\n    color: color\n  }))))));\n}\n\nexport { Cloud };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}